(this["webpackJsonpreact-music-player"]=this["webpackJsonpreact-music-player"]||[]).push([[0],{12:function(e,t,n){e.exports={container:"LibraryItem_container__2a_1a",active:"LibraryItem_active__2iN4i",title:"LibraryItem_title__2gpiO",artist:"LibraryItem_artist__11oTs",cover:"LibraryItem_cover__2fHu0",meta:"LibraryItem_meta__2rsBn"}},14:function(e,t,n){e.exports={library:"Library_library__1c0i4",active:"Library_active__132GR",title:"Library_title__3k3lC"}},16:function(e,t,n){e.exports={songContainer:"HeroSong_songContainer__mTN4V",cover:"HeroSong_cover__1xjGO",title:"HeroSong_title__32uY0",artist:"HeroSong_artist__3pkWm"}},17:function(e,t,n){e.exports={nav:"Nav_nav__2p4vD",title:"Nav_title__2iynE",logo:"Nav_logo__DLlLt",navButton:"Nav_navButton__345KA"}},20:function(e,t,n){e.exports={image:"LazyImage_image__2jUm3",loaded:"LazyImage_loaded__32Mor",hasError:"LazyImage_hasError__284lJ"}},21:function(e,t,n){e.exports={searchContainer:"Search_searchContainer__16Jdk",searchInput:"Search_searchInput__1W1ZZ",searchIcon:"Search_searchIcon__3jiWG"}},27:function(e,t,n){e.exports={mainContent:"App_mainContent__3N2BW",slidedRight:"App_slidedRight__17gUa"}},5:function(e,t,n){e.exports={player:"Player_player__zS77t",timeControl:"Player_timeControl__2TnNU",track:"Player_track__2HmwB",animateTrack:"Player_animateTrack__3xvfs",sliderBackground:"Player_sliderBackground__2X3OW",timeInput:"Player_timeInput__2qWbP",playerControl:"Player_playerControl__1mcph",icon:"Player_icon__v3iFJ",timestamp:"Player_timestamp__3npa-",volumeContainer:"Player_volumeContainer__1zHo_",volumeTrack:"Player_volumeTrack__2O1fs",volumeAnimateTrack:"Player_volumeAnimateTrack__3-hl4",volumeSliderBackground:"Player_volumeSliderBackground__3o41h",volumeInput:"Player_volumeInput__2e3Cr",volumeIconContainer:"Player_volumeIconContainer__39zg5"}},69:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(19),o=n.n(c),i=n(4),s=n(6),u=n.n(s),l=n(8),d=n(38),m=n.n(d),j=Object({NODE_ENV:"production",PUBLIC_URL:"https://pmanikas.github.io/react-music-player",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).VUE_APP_API_BASE_URL||"",v=m.a.create({baseURL:j});v.interceptors.response.use((function(e){return b(e)}),(function(e){return f(e)}));var b=function(e){return e},f=function(e){var t=e.response.status;403===t&&alert("You are not allowed to perform that task."),404===t?alert("We can't find what you're looking for."):401===t?alert("Unauthanticated"):alert("Something went wrong.")},p=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n="./songs/chillhopList.json",v.get(n);case 2:return t=e.sent,e.abrupt("return",t?t.data:[]);case 4:case"end":return e.stop()}var n}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(e){return function(){var t=Object(l.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n({type:"UPDATE_CURRENT_SONG",data:e});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},_=n(14),h=n.n(_),g=n(13),y=n(20),x=n.n(y),S=n(0),N="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkqAcAAIUAgUW0RjgAAAAASUVORK5CYII=",k=function(e){var t=e.src,n=e.alt,r=Object(a.useState)(N),c=Object(g.a)(r,2),o=c[0],i=c[1],s=Object(a.useState)(),u=Object(g.a)(s,2),l=u[0],d=u[1],m=Object(a.useState)(!1),j=Object(g.a)(m,2),v=j[0],b=j[1];return Object(a.useEffect)((function(){!function(e,t,n,a){var r,c=!1;e&&t!==n&&(IntersectionObserver?(r=new IntersectionObserver((function(t){t.forEach((function(t){!c&&(t.intersectionRatio>0||t.isIntersecting)&&(a(n),r.unobserve(e))}))}),{threshold:.01,rootMargin:"75%"})).observe(e):a(n))}(l,o,t,i)}),[t,o,l]),Object(S.jsx)("img",{className:x.a.image,style:v?{transform:"content: url(".concat(N,")")}:{},ref:d,src:o||N,alt:n,onLoad:function(e){e.target.classList.add(x.a.loaded)},onError:function(e){e.target.classList.add(x.a.hasError),b(!0)}})},w=n(12),A=n.n(w),C=function(e){var t=e.song,n=e.audioRef,a=e.isPlaying,r=Object(i.c)((function(e){return e.songsState.currentSong})),c=Object(i.b)(),o=function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(O(t));case 2:a&&n.current.play();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(S.jsxs)("div",{onClick:o,className:"".concat(A.a.container," ").concat(t.id===r.id?A.a.active:""),children:[Object(S.jsx)("div",{className:A.a.cover,children:Object(S.jsx)(k,{src:t.cover,alt:t.name})}),Object(S.jsxs)("div",{className:A.a.meta,children:[Object(S.jsx)("h3",{className:A.a.title,children:t.name}),Object(S.jsx)("h4",{className:A.a.artist,children:t.artist})]})]})},L=n(21),T=n.n(L),I=null;var E=n(10),P=n(9),R=function(e){var t=e.commitSearch;return Object(S.jsxs)("div",{className:T.a.searchContainer,children:[Object(S.jsx)("input",{type:"text",placeholder:"Search...",onChange:function(e){return n=function(){return t(e)},a=300,I&&(clearTimeout(I),I=null),void(I=setTimeout((function(){n()}),a));var n,a},className:T.a.searchInput}),Object(S.jsx)(E.a,{className:T.a.searchIcon,icon:P.a})]})},U=function(e){var t=e.audioRef,n=Object(i.c)((function(e){return e.songsState.songs})),a=Object(i.c)((function(e){return e.songsState.currentSong})),r=Object(i.c)((function(e){return e.appearanceState.isLibraryOpen})),c=Object(i.c)((function(e){return e.playerState.isPlaying})),o=Object(i.b)();return Object(S.jsxs)("div",{className:"".concat(h.a.library," ").concat(r?h.a.active:""),children:[Object(S.jsx)("h2",{className:h.a.title,children:"Library"}),Object(S.jsx)(R,{commitSearch:function(e){return o((t=e.target.value,function(){var e=Object(l.a)(u.a.mark((function e(n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:a=e.sent,n({type:"SEARCH_SONGS",query:t,payload:a});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));var t}}),Object(S.jsx)("div",{className:h.a.songs,children:n.map((function(e){return Object(S.jsx)(C,{song:e,audioRef:t,isPlaying:c,currentSong:a},e.id)}))})]})},B=n(3),W=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"localStorage";return JSON.parse(window[t].getItem(e))},G=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"localStorage";window[n].setItem(e,JSON.stringify(t))},V=function(){var e=Object(l.a)(u.a.mark((function e(t,n,a,r,c){var o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.findIndex((function(e){return e.id===n.id})),e.next=3,a(t[(o+1)%t.length]);case 3:r&&c.current.play();case 4:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c){return e.apply(this,arguments)}}(),H=function(){var e=Object(l.a)(u.a.mark((function e(t,n,a,r,c){var o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.findIndex((function(e){return e.id===n.id})),e.next=3,o;case 3:if(e.t0=e.sent,0!==e.t0){e.next=8;break}a(t[t.length-1]),e.next=9;break;case 8:a(t[o-1]);case 9:r&&c.current.play();case 10:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c){return e.apply(this,arguments)}}(),z=n(5),D=n.n(z),J=n(26),Y=function(e){var t=e.audioRef,n=Object(i.c)((function(e){return e.songsState.songs})),r=Object(i.c)((function(e){return e.songsState.currentSong})),c=Object(i.c)((function(e){return e.playerState.isPlaying})),o=Object(i.b)(),s=function(e){return o(O(e))},u=Object(a.useState)({currentTime:0,duration:0,volume:W("currentVolume")||1}),l=Object(g.a)(u,2),d=l[0],m=l[1],j=function(e){!function(e,t,n,a){var r=e.target.currentTime,c=e.target.duration;t(Object(B.a)(Object(B.a)({},n),{},{currentTime:r,duration:c})),c-r<1&&a("skip-forward")}(e,m,d,v)},v=function(e){"skip-back"===e?H(n,r,s,c,t):"skip-forward"===e&&V(n,r,s,c,t)},b=function(e){return t=e,"".concat(Math.floor(t/60),":").concat(("0"+Math.floor(t%60)).slice(-2));var t},f={transform:"translateX(".concat(d.currentTime/d.duration*100,"%)")},p={transform:"translateY(".concat(100-100*d.volume,"%)")},_=d.volume>.66?P.h:d.volume>.33?P.e:d.volume>0?P.g:P.f;return Object(S.jsxs)("div",{className:D.a.player,children:[Object(S.jsxs)("div",{className:D.a.timeControl,children:[Object(S.jsx)("p",{className:D.a.timestamp,children:d.currentTime?b(d.currentTime):"0:00"}),Object(S.jsxs)("div",{className:D.a.track,children:[Object(S.jsx)("div",{style:{backgroundImage:"url(".concat(r.cover,")")},className:D.a.sliderBackground}),Object(S.jsx)("input",{onChange:function(e){t.current.currentTime=e.target.value,m(Object(B.a)(Object(B.a)({},d),{},{currentTime:e.target.value}))},className:D.a.timeInput,type:"range",min:0,value:d.currentTime||0,max:d.duration||0}),Object(S.jsx)("div",{style:f,className:D.a.animateTrack})]}),Object(S.jsx)("p",{className:D.a.timestamp,children:d.duration?b(d.duration):"0:00"})]}),Object(S.jsxs)("div",{className:D.a.playerControl,children:[Object(S.jsx)(E.a,{onClick:function(){return v("skip-back")},className:"".concat(D.a.icon," ").concat(D.a.skipBack),size:"2x",icon:P.b}),Object(S.jsx)(E.a,{onClick:function(){r&&r.audio&&(c?t.current.pause():t.current.play())},className:"".concat(D.a.icon," ").concat(D.a.play),size:"3x",icon:c?J.a:J.b}),Object(S.jsx)(E.a,{onClick:function(){return v("skip-forward")},className:"".concat(D.a.icon," ").concat(D.a.skipForward),size:"2x",icon:P.c}),Object(S.jsxs)("div",{className:D.a.volumeContainer,children:[Object(S.jsxs)("div",{className:D.a.volumeTrack,children:[Object(S.jsx)("div",{className:D.a.volumeSliderBackground}),Object(S.jsx)("input",{onChange:function(e){var n=e.target.value/100;t.current.volume=n,m(Object(B.a)(Object(B.a)({},d),{},{volume:n})),G("previousVolume",n),G("currentVolume",n)},className:D.a.volumeInput,type:"range",min:0,value:100*d.volume||100,max:100,orient:"vertical"}),Object(S.jsx)("div",{style:p,className:D.a.volumeAnimateTrack})]}),Object(S.jsx)("div",{className:D.a.volumeIconContainer,children:Object(S.jsx)(E.a,{onClick:function(){return function(){var e,n=W("previousVolume")||1;e=t.current.volume>0?"0":n,t.current.volume=e,m(Object(B.a)(Object(B.a)({},d),{},{volume:e})),G("currentVolume",e)}()},className:"".concat(D.a.icon," ").concat(D.a.volumeIcon),size:"2x",icon:_})})]})]}),Object(S.jsx)("audio",{onTimeUpdate:j,onLoadedMetadata:j,onPause:function(){return o({type:"PAUSE"})},onPlay:function(){return o({type:"PLAY"})},ref:t,src:r.audio})]})},M=n(16),K=n.n(M),q=function(){var e=Object(i.c)((function(e){return e.songsState.currentSong}));return Object(S.jsxs)("div",{className:K.a.songContainer,children:[Object(S.jsx)("div",{className:K.a.cover,children:Object(S.jsx)(k,{src:e.cover,alt:e.name})}),Object(S.jsx)("h2",{className:K.a.title,children:e.name}),Object(S.jsx)("h3",{className:K.a.artist,children:e.artist})]})},F=n(17),X=n.n(F),Q=function(){var e=Object(i.c)((function(e){return e.appearanceState.isLibraryOpen})),t=Object(i.b)();return Object(S.jsxs)("nav",{className:X.a.nav,children:[Object(S.jsxs)("h1",{className:X.a.title,children:[Object(S.jsx)("div",{className:X.a.logo,children:Object(S.jsx)(k,{src:"images/chill-vibes-logo.png",alt:"Chill Vibes Logo"})}),"Chill Vibes"]}),Object(S.jsxs)("button",{onClick:function(){return t({type:"TOGGLE_LIBRARY"})},className:X.a.navButton,children:[e?"Close":"Library"," \xa0",Object(S.jsx)(E.a,{icon:P.d})]})]})},Z=n(27),$=n.n(Z);var ee=function(){var e=Object(i.b)();Object(a.useEffect)((function(){e(function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:n=e.sent,t({type:"GET_SONGS",payload:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]);var t=Object(a.useRef)(null),n=Object(i.c)((function(e){return e.appearanceState.isLibraryOpen}));return Object(S.jsxs)("div",{children:[Object(S.jsxs)("div",{className:"".concat($.a.mainContent," ").concat(n?$.a.slidedRight:""),children:[Object(S.jsx)(Q,{}),Object(S.jsx)(q,{}),Object(S.jsx)(Y,{audioRef:t})]}),Object(S.jsx)(U,{audioRef:t})]})},te=(n(69),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function ne(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var ae=n(11),re=n(39),ce={songs:[],currentSong:{}},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_SONGS":return Object(B.a)(Object(B.a)({},e),{},{songs:t.payload,currentSong:t.payload[0]});case"SEARCH_SONGS":return Object(B.a)(Object(B.a)({},e),{},{songs:t.payload.filter((function(e){return JSON.stringify(e).toLowerCase().match(t.query.toLowerCase())}))});case"UPDATE_CURRENT_SONG":return Object(B.a)(Object(B.a)({},e),{},{currentSong:t.data});default:return Object(B.a)({},e)}},ie={isLibraryOpen:!1},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_LIBRARY":return Object(B.a)(Object(B.a)({},e),{},{isLibraryOpen:!e.isLibraryOpen});default:return Object(B.a)({},e)}},ue={isPlaying:!1},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PLAY":return Object(B.a)(Object(B.a)({},e),{},{isPlaying:!0});case"PAUSE":return Object(B.a)(Object(B.a)({},e),{},{isPlaying:!1});default:return Object(B.a)({},e)}},de=Object(ae.c)({songsState:oe,appearanceState:se,playerState:le}),me=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ae.d,je=Object(ae.e)(de,me(Object(ae.a)(re.a)));o.a.render(Object(S.jsx)(r.a.StrictMode,{children:Object(S.jsx)(i.a,{store:je,children:Object(S.jsx)(ee,{})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("https://pmanikas.github.io/react-music-player",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("https://pmanikas.github.io/react-music-player","/service-worker.js");te?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ne(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):ne(t,e)}))}}()}},[[70,1,2]]]);
//# sourceMappingURL=main.0a0f8f55.chunk.js.map