{"version":3,"sources":["components/Library/LibraryItem.module.scss","components/Library/Library.module.scss","components/HeroSong/HeroSong.module.scss","components/Nav/Nav.module.scss","components/LazyImage/LazyImage.module.scss","components/Search/Search.module.scss","App.module.scss","components/Player/Player.module.scss","services/api.service.js","services/songs.service.js","store/actions/songs.actions.js","components/LazyImage/LazyImage.jsx","utils/lazyLoader.utils.js","components/Library/LibraryItem.jsx","utils/lazyType.utils.js","components/Search/Search.jsx","components/Library/Library.jsx","utils/localSave.utils.js","services/player.service.js","components/Player/Player.jsx","utils/timeFormat.utils.js","store/actions/player.actions.js","components/HeroSong/HeroSong.jsx","components/Nav/Nav.jsx","store/actions/appearance.actions.js","App.jsx","serviceWorkerRegistration.js","store/reducers/songs.reducer.js","store/reducers/appearance.reducer.js","store/reducers/player.reducer.js","store/reducers/index.js","index.js"],"names":["module","exports","BASE_URL","process","VUE_APP_API_BASE_URL","axiosInstance","axios","create","baseURL","interceptors","response","use","successHandler","error","errorHandler","status","alert","getAll","a","apiLink","get","res","data","updateCurrentSong","song","dispatch","type","placeHolder","LazyImage","src","alt","useState","imageSrc","setImageSrc","imageRef","setImageRef","hasError","setHasError","useEffect","observer","didCancel","IntersectionObserver","entries","forEach","entry","intersectionRatio","isIntersecting","unobserve","threshold","rootMargin","observe","lazyLoader","className","styles","image","style","transform","ref","onLoad","e","target","classList","add","loaded","onError","LibraryItem","audioRef","isPlaying","currentSong","useSelector","state","songsState","useDispatch","songSelectHandler","current","play","onClick","container","id","active","cover","name","meta","title","artist","timer","Search","commitSearch","searchContainer","placeholder","onChange","action","delay","clearTimeout","setTimeout","searchInput","searchIcon","icon","faSearch","Library","songs","isLibraryOpen","appearanceState","playerState","library","q","value","allSongs","query","payload","map","key","JSON","parse","window","getItem","setItem","stringify","skipForward","setCurrentSong","currentIndex","findIndex","length","skipBackwards","Player","currentTime","duration","volume","localSave","songInfo","setSongInfo","timeUpdateHandler","skipTrackHandler","timeUpdate","direction","formatTime","time","ms","Math","floor","slice","trackAnim","volumeTrack","volumeIcon","faVolumeUp","faVolumeDown","faVolumeOff","faVolumeMute","player","timeControl","timestamp","track","backgroundImage","sliderBackground","timeInput","min","max","animateTrack","playerControl","skipBack","size","faStepBackward","audio","pause","faPauseCircle","faPlayCircle","faStepForward","volumeContainer","volumeSliderBackground","newVolume","volumeInput","orient","volumeAnimateTrack","volumeIconContainer","previousVolume","muteClickHandler","onTimeUpdate","onLoadedMetadata","onPause","onPlay","HeroSong","songContainer","Nav","nav","logo","navButton","faStream","App","useRef","mainContent","slidedRight","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","catch","initState","songsReducer","filter","toLowerCase","apperanceReducer","playerReducer","rootReducer","combineReducers","appearanceReducer","composeEnhancer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById","URL","href","origin","addEventListener","fetch","headers","contentType","indexOf","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.3ad8b924.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"LibraryItem_container__2a_1a\",\"active\":\"LibraryItem_active__2iN4i\",\"title\":\"LibraryItem_title__2gpiO\",\"artist\":\"LibraryItem_artist__11oTs\",\"cover\":\"LibraryItem_cover__2fHu0\",\"meta\":\"LibraryItem_meta__2rsBn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"library\":\"Library_library__1c0i4\",\"active\":\"Library_active__132GR\",\"title\":\"Library_title__3k3lC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"songContainer\":\"HeroSong_songContainer__mTN4V\",\"cover\":\"HeroSong_cover__1xjGO\",\"title\":\"HeroSong_title__32uY0\",\"artist\":\"HeroSong_artist__3pkWm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__2p4vD\",\"title\":\"Nav_title__2iynE\",\"logo\":\"Nav_logo__DLlLt\",\"navButton\":\"Nav_navButton__345KA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"LazyImage_image__2jUm3\",\"loaded\":\"LazyImage_loaded__32Mor\",\"hasError\":\"LazyImage_hasError__284lJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchContainer\":\"Search_searchContainer__16Jdk\",\"searchInput\":\"Search_searchInput__1W1ZZ\",\"searchIcon\":\"Search_searchIcon__3jiWG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainContent\":\"App_mainContent__3N2BW\",\"slidedRight\":\"App_slidedRight__17gUa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"player\":\"Player_player__zS77t\",\"timeControl\":\"Player_timeControl__2TnNU\",\"track\":\"Player_track__2HmwB\",\"animateTrack\":\"Player_animateTrack__3xvfs\",\"sliderBackground\":\"Player_sliderBackground__2X3OW\",\"timeInput\":\"Player_timeInput__2qWbP\",\"playerControl\":\"Player_playerControl__1mcph\",\"icon\":\"Player_icon__v3iFJ\",\"timestamp\":\"Player_timestamp__3npa-\",\"volumeContainer\":\"Player_volumeContainer__1zHo_\",\"volumeTrack\":\"Player_volumeTrack__2O1fs\",\"volumeAnimateTrack\":\"Player_volumeAnimateTrack__3-hl4\",\"volumeSliderBackground\":\"Player_volumeSliderBackground__3o41h\",\"volumeInput\":\"Player_volumeInput__2e3Cr\",\"volumeIconContainer\":\"Player_volumeIconContainer__39zg5\"};","import axios from 'axios'\n\nconst BASE_URL = process.env.VUE_APP_API_BASE_URL || ''\n\nconst axiosInstance = axios.create({ baseURL: BASE_URL })\n\naxiosInstance.interceptors.response.use(\n    response => successHandler(response),\n    error => errorHandler(error)\n)\n\nconst successHandler = response => response\nconst errorHandler = error => {\n    const status = error.response.status\n    if(status === 403) {\n        alert('You are not allowed to perform that task.');\n    }\n    if(status === 404) {\n        alert(`We can't find what you're looking for.`);\n    }\n    else if(status === 401) {\n        alert('Unauthanticated');\n    }\n    else {\n        alert('Something went wrong.');\n    }\n}\n\nconst get = apiLink => axiosInstance.get(apiLink)\nconst post = (apiLink, data, params) => axiosInstance.post(apiLink, data, params)\nconst put = (apiLink, data) => axiosInstance.put(apiLink, data)\nconst remove = id => axiosInstance.delete(id)\n\nexport { get, post, put, remove }","import { get } from \"./api.service\";\n\nconst SONGS_URL = \"./songs/chillhopList.json\";\n\nexport const getAll = async () => {\n  const res = await get(SONGS_URL);\n  return res ? res.data : [];\n};\n","import { getAll } from \"./../../services/songs.service\";\n\nconst getSongs = () => async (dispatch) => {\n  const allSongs = await getAll();\n  dispatch({\n    type: \"GET_SONGS\",\n    payload: allSongs,\n  });\n};\n\nconst searchSongs = (q) => async (dispatch) => {\n  const allSongs = await getAll();\n  dispatch({\n    type: \"SEARCH_SONGS\",\n    query: q,\n    payload: allSongs,\n  });\n};\n\nconst updateCurrentSong = (song) => async (dispatch) => {\n  await dispatch({\n    type: \"UPDATE_CURRENT_SONG\",\n    data: song,\n  });\n};\n\nexport { getSongs, searchSongs, updateCurrentSong };\n","import React, { useState, useEffect } from \"react\";\nimport { lazyLoader } from \"./../../utils/lazyLoader.utils\";\nimport styles from \"./LazyImage.module.scss\";\n\nconst placeHolder =\n  \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkqAcAAIUAgUW0RjgAAAAASUVORK5CYII=\";\n\nconst LazyImage = ({ src, alt }) => {\n  const [imageSrc, setImageSrc] = useState(placeHolder);\n  const [imageRef, setImageRef] = useState();\n  const [hasError, setHasError] = useState(false);\n\n  const onLoad = (e) => {\n    e.target.classList.add(styles.loaded);\n  };\n\n  const onError = (e) => {\n    e.target.classList.add(styles.hasError);\n    setHasError(true);\n  };\n\n  useEffect(() => {\n    lazyLoader(imageRef, imageSrc, src, setImageSrc);\n  }, [src, imageSrc, imageRef]);\n\n  return (\n    <img\n      className={styles.image}\n      style={hasError ? { transform: `content: url(${placeHolder})` } : {}}\n      ref={setImageRef}\n      src={imageSrc || placeHolder}\n      alt={alt}\n      onLoad={onLoad}\n      onError={onError}\n    />\n  );\n};\n\nexport default LazyImage;\n","export const lazyLoader = (imageRef, imageSrc, src, setImageSrc) => {\n  let observer;\n  let didCancel = false;\n\n  if (imageRef && imageSrc !== src) {\n    if (IntersectionObserver) {\n      observer = new IntersectionObserver(\n        (entries) => {\n          entries.forEach((entry) => {\n            if (\n              !didCancel &&\n              (entry.intersectionRatio > 0 || entry.isIntersecting)\n            ) {\n              setImageSrc(src);\n              observer.unobserve(imageRef);\n            }\n          });\n        },\n        {\n          threshold: 0.01,\n          rootMargin: \"75%\",\n        }\n      );\n      observer.observe(imageRef);\n    } else {\n      // Old browsers fallback\n      setImageSrc(src);\n    }\n  }\n  return () => {\n    didCancel = true;\n    // on component cleanup, we remove the listner\n    if (observer && observer.unobserve) {\n      observer.unobserve(imageRef);\n    }\n  }; \n}","import React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { updateCurrentSong } from \"./../../store/actions/songs.actions\";\nimport LazyImage from \"./../LazyImage/LazyImage\";\nimport styles from \"./LibraryItem.module.scss\";\n\nconst LibraryItem = ({ song, audioRef, isPlaying }) => {\n  const currentSong = useSelector((state) => state.songsState.currentSong);\n\n  const dispatch = useDispatch();\n\n  const songSelectHandler = async () => {\n    await dispatch(updateCurrentSong(song));\n    if (isPlaying) audioRef.current.play();\n  };\n\n  return (\n    <div\n      onClick={songSelectHandler}\n      className={`${styles.container} ${\n        song.id === currentSong.id ? styles.active : \"\"\n      }`}\n    >\n      <div className={styles.cover}>\n        <LazyImage src={song.cover} alt={song.name} />\n      </div>\n      <div className={styles.meta}>\n        <h3 className={styles.title}>{song.name}</h3>\n        <h4 className={styles.artist}>{song.artist}</h4>\n      </div>\n    </div>\n  );\n};\n\nexport default LibraryItem;\n","let timer = null\n\nexport default function lazyType(action, delay) {\n  if (timer) {\n    clearTimeout(timer)\n    timer = null\n  }\n  timer = setTimeout(function() {\n    action()\n  }, delay)\n}\n","import React from \"react\";\nimport styles from \"./Search.module.scss\";\nimport lazyType from \"./../../utils/lazyType.utils\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSearch } from \"@fortawesome/free-solid-svg-icons\";\n\nconst LAZY_DELAY = 300;\n\nconst Search = ({ commitSearch }) => {\n  const searchHandler = (e) => lazyType(() => commitSearch(e), LAZY_DELAY);\n\n  return (\n    <div className={styles.searchContainer}>\n      <input\n        type=\"text\"\n        placeholder=\"Search...\"\n        onChange={searchHandler}\n        className={styles.searchInput}\n      />\n      <FontAwesomeIcon className={styles.searchIcon} icon={faSearch} />\n    </div>\n  );\n};\n\nexport default Search;\n","import React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { searchSongs } from \"./../../store/actions/songs.actions\";\nimport styles from \"./Library.module.scss\";\nimport LibraryItem from \"./LibraryItem\";\nimport Search from \"./../Search/Search\";\n\nconst Library = ({ audioRef }) => {\n  const songs = useSelector((state) => state.songsState.songs);\n  const currentSong = useSelector((state) => state.songsState.currentSong);\n  const isLibraryOpen = useSelector(\n    (state) => state.appearanceState.isLibraryOpen\n  );\n  const isPlaying = useSelector((state) => state.playerState.isPlaying);\n\n  const dispatch = useDispatch();\n\n  const commitSearch = (e) => dispatch(searchSongs(e.target.value));\n\n  return (\n    <div className={`${styles.library} ${isLibraryOpen ? styles.active : \"\"}`}>\n      <h2 className={styles.title}>Library</h2>\n      <Search commitSearch={commitSearch} />\n      <div className={styles.songs}>\n        {songs.map((song) => (\n          <LibraryItem\n            song={song}\n            key={song.id}\n            audioRef={audioRef}\n            isPlaying={isPlaying}\n            currentSong={currentSong}\n          />\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default Library;\n","export default {\n  get(key, type='localStorage') {\n    return JSON.parse(window[type].getItem(key))\n  },\n  save(key, state, type='localStorage') {\n    window[type].setItem(key, JSON.stringify(state))\n  },\n  delete(key, type='localStorage') {\n    window[type].removeItem(key)\n  },\n\n  clear(type=\"localStorage\") {\n    window[type].clear()\n  },\n}\n","const skipForward = async (\n  songs,\n  currentSong,\n  setCurrentSong,\n  isPlaying,\n  audioRef\n) => {\n  let currentIndex = songs.findIndex((song) => song.id === currentSong.id);\n  await setCurrentSong(songs[(currentIndex + 1) % songs.length]);\n  if (isPlaying) audioRef.current.play();\n};\n\nconst skipBackwards = async (\n  songs,\n  currentSong,\n  setCurrentSong,\n  isPlaying,\n  audioRef\n) => {\n  let currentIndex = songs.findIndex((song) => song.id === currentSong.id);\n  (await currentIndex) === 0\n    ? setCurrentSong(songs[songs.length - 1])\n    : setCurrentSong(songs[currentIndex - 1]);\n  if (isPlaying) audioRef.current.play();\n};\n\nconst timeUpdate = (e, setSongInfo, songInfo, skipTrackHandler) => {\n  const current = e.target.currentTime;\n  const duration = e.target.duration;\n  setSongInfo({ ...songInfo, currentTime: current, duration });\n  if (duration - current < 1) {\n    skipTrackHandler(\"skip-forward\");\n  }\n};\n\nexport { skipForward, skipBackwards, timeUpdate };\n","import React, { useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport localSave from \"./../../utils/localSave.utils\";\nimport { updateCurrentSong } from \"./../../store/actions/songs.actions\";\nimport { play, pause } from \"./../../store/actions/player.actions\";\nimport {\n  skipForward,\n  skipBackwards,\n  timeUpdate,\n} from \"./../../services/player.service\";\nimport { covertMsToTime } from \"./../../utils/timeFormat.utils\";\nimport styles from \"./Player.module.scss\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faStepBackward,\n  faStepForward,\n  faVolumeUp,\n  faVolumeDown,\n  faVolumeOff,\n  faVolumeMute,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport {\n  faPlayCircle,\n  faPauseCircle,\n} from \"@fortawesome/free-regular-svg-icons\";\n\nconst Player = ({ audioRef }) => {\n  const songs = useSelector((state) => state.songsState.songs);\n  const currentSong = useSelector((state) => state.songsState.currentSong);\n  const isPlaying = useSelector((state) => state.playerState.isPlaying);\n\n  const dispatch = useDispatch();\n  const setCurrentSong = (song) => dispatch(updateCurrentSong(song));\n  const setAsPlaying = () => dispatch(play());\n  const setAsPaused = () => dispatch(pause());\n\n  const [songInfo, setSongInfo] = useState({\n    currentTime: 0,\n    duration: 0,\n    volume: localSave.get(\"currentVolume\") || 1,\n  });\n\n  const timeUpdateHandler = (e) => {\n    timeUpdate(e, setSongInfo, songInfo, skipTrackHandler);\n  };\n\n  const playSongHandler = () => {\n    if (!currentSong || !currentSong.audio) return;\n    if (isPlaying) {\n      audioRef.current.pause();\n    } else {\n      audioRef.current.play();\n    }\n  };\n\n  const timeDragHandler = (e) => {\n    audioRef.current.currentTime = e.target.value;\n    setSongInfo({ ...songInfo, currentTime: e.target.value });\n  };\n\n  const volumeDragHandler = (e) => {\n    const newVolume = e.target.value / 100;\n    audioRef.current.volume = newVolume;\n    setSongInfo({ ...songInfo, volume: newVolume });\n    localSave.save(\"previousVolume\", newVolume);\n    localSave.save(\"currentVolume\", newVolume);\n  };\n\n  const muteClickHandler = () => {\n    let newVolume;\n    let previousVolume = localSave.get(\"previousVolume\") || 1;\n    newVolume = audioRef.current.volume > 0 ? \"0\" : previousVolume;\n    audioRef.current.volume = newVolume;\n    setSongInfo({ ...songInfo, volume: newVolume });\n    localSave.save(\"currentVolume\", newVolume);\n  };\n\n  const skipTrackHandler = (direction) => {\n    if (direction === \"skip-back\") {\n      skipBackwards(songs, currentSong, setCurrentSong, isPlaying, audioRef);\n    } else if (direction === \"skip-forward\") {\n      skipForward(songs, currentSong, setCurrentSong, isPlaying, audioRef);\n    }\n  };\n\n  const formatTime = (time) => covertMsToTime(time);\n\n  const trackAnim = {\n    transform: `translateX(${\n      (songInfo.currentTime / songInfo.duration) * 100\n    }%)`,\n  };\n\n  const volumeTrack = {\n    transform: `translateY(${100 - songInfo.volume * 100}%)`,\n  };\n\n  const volumeIcon =\n    songInfo.volume > 0.66\n      ? faVolumeUp\n      : songInfo.volume > 0.33\n      ? faVolumeDown\n      : songInfo.volume > 0\n      ? faVolumeOff\n      : faVolumeMute;\n\n  return (\n    <div className={styles.player}>\n      <div className={styles.timeControl}>\n        <p className={styles.timestamp}>\n          {songInfo.currentTime ? formatTime(songInfo.currentTime) : \"0:00\"}\n        </p>\n        <div className={styles.track}>\n          <div\n            style={{ backgroundImage: `url(${currentSong.cover})` }}\n            className={styles.sliderBackground}\n          ></div>\n          <input\n            onChange={timeDragHandler}\n            className={styles.timeInput}\n            type=\"range\"\n            min={0}\n            value={songInfo.currentTime || 0}\n            max={songInfo.duration || 0}\n          />\n          <div style={trackAnim} className={styles.animateTrack}></div>\n        </div>\n        <p className={styles.timestamp}>\n          {songInfo.duration ? formatTime(songInfo.duration) : \"0:00\"}\n        </p>\n      </div>\n      <div className={styles.playerControl}>\n        <FontAwesomeIcon\n          onClick={() => skipTrackHandler(\"skip-back\")}\n          className={`${styles.icon} ${styles.skipBack}`}\n          size=\"2x\"\n          icon={faStepBackward}\n        />\n        <FontAwesomeIcon\n          onClick={playSongHandler}\n          className={`${styles.icon} ${styles.play}`}\n          size=\"3x\"\n          icon={isPlaying ? faPauseCircle : faPlayCircle}\n        />\n        <FontAwesomeIcon\n          onClick={() => skipTrackHandler(\"skip-forward\")}\n          className={`${styles.icon} ${styles.skipForward}`}\n          size=\"2x\"\n          icon={faStepForward}\n        />\n        <div className={styles.volumeContainer}>\n          <div className={styles.volumeTrack}>\n            <div className={styles.volumeSliderBackground}></div>\n            <input\n              onChange={volumeDragHandler}\n              className={styles.volumeInput}\n              type=\"range\"\n              min={0}\n              value={songInfo.volume * 100 || 100}\n              max={100}\n              orient=\"vertical\"\n            />\n            <div\n              style={volumeTrack}\n              className={styles.volumeAnimateTrack}\n            ></div>\n          </div>\n          <div className={styles.volumeIconContainer}>\n            <FontAwesomeIcon\n              onClick={() => muteClickHandler()}\n              className={`${styles.icon} ${styles.volumeIcon}`}\n              size=\"2x\"\n              icon={volumeIcon}\n            />\n          </div>\n        </div>\n      </div>\n      <audio\n        onTimeUpdate={timeUpdateHandler}\n        onLoadedMetadata={timeUpdateHandler}\n        onPause={() => setAsPaused()}\n        onPlay={() => setAsPlaying()}\n        ref={audioRef}\n        src={currentSong.audio}\n      ></audio>\n    </div>\n  );\n};\n\nexport default Player;\n","export const covertMsToTime = (ms) => {\n  return `${Math.floor(ms / 60)}:${(\"0\" + Math.floor(ms % 60)).slice(-2)}`;\n};\n","const play = () => {\n  return {\n    type: \"PLAY\",\n  };\n};\n\nconst pause = () => {\n  return {\n    type: \"PAUSE\",\n  };\n};\n\nexport { play, pause };\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport LazyImage from \"./../LazyImage/LazyImage\";\nimport styles from \"./HeroSong.module.scss\";\n\nconst HeroSong = () => {\n  const currentSong = useSelector((state) => state.songsState.currentSong);\n\n  return (\n    <div className={styles.songContainer}>\n      <div className={styles.cover}>\n        <LazyImage src={currentSong.cover} alt={currentSong.name} />\n      </div>\n      <h2 className={styles.title}>{currentSong.name}</h2>\n      <h3 className={styles.artist}>{currentSong.artist}</h3>\n    </div>\n  );\n};\n\nexport default HeroSong;\n","import React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { toggleLibrary } from \"./../../store/actions/appearance.actions\";\nimport LazyImage from \"./../LazyImage/LazyImage\";\n\nimport styles from \"./Nav.module.scss\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faStream } from \"@fortawesome/free-solid-svg-icons\";\n\nconst Nav = () => {\n  const isLibraryOpen = useSelector(\n    (state) => state.appearanceState.isLibraryOpen\n  );\n  const dispatch = useDispatch();\n  const dispatchToggleLibrary = () => dispatch(toggleLibrary());\n\n  return (\n    <nav className={styles.nav}>\n      <h1 className={styles.title}>\n      <div className={styles.logo}>\n        <LazyImage src=\"/images/chill-vibes-logo.png\" alt=\"Chill Vibes Logo\" />\n      </div>\n        Chill Vibes</h1>\n      <button\n        onClick={() => dispatchToggleLibrary()}\n        className={styles.navButton}\n      >\n        {isLibraryOpen ? ('Close') : ('Library')} &nbsp;\n        <FontAwesomeIcon icon={faStream} />\n      </button>\n    </nav>\n  );\n};\n\nexport default Nav;\n","export const toggleLibrary = () => {\n  return {\n    type: \"TOGGLE_LIBRARY\",\n  }\n}\n","import React, { useRef, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { getSongs } from \"./store/actions/songs.actions\";\nimport Library from \"./components/Library/Library\";\nimport Player from \"./components/Player/Player\";\nimport HeroSong from \"./components/HeroSong/HeroSong\";\nimport Nav from \"./components/Nav/Nav\";\nimport styles from \"./App.module.scss\";\n\nfunction App() {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(getSongs());\n  }, []);\n\n  const audioRef = useRef(null);\n\n  const isLibraryOpen = useSelector(\n    (state) => state.appearanceState.isLibraryOpen\n  );\n\n  return (\n    <div>\n      <div\n        className={`${styles.mainContent} ${\n          isLibraryOpen ? styles.slidedRight : \"\"\n        }`}\n      >\n        <Nav />\n        <HeroSong />\n        <Player audioRef={audioRef} />\n      </div>\n      <Library audioRef={audioRef} />\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","const initState = {\n  songs: [],\n  currentSong: {},\n};\n\nconst songsReducer = (state = initState, action) => {\n  switch (action.type) {\n    case \"GET_SONGS\":\n      return {\n        ...state,\n        songs: action.payload,\n        currentSong: action.payload[0],\n      };\n    case \"SEARCH_SONGS\":\n      return {\n        ...state,\n        songs: action.payload.filter(song => JSON.stringify(song).toLowerCase().match(action.query.toLowerCase())),\n      };\n    case \"UPDATE_CURRENT_SONG\":\n      return {\n        ...state,\n        currentSong: action.data,\n      };\n    default:\n      return { ...state };\n  }\n};\n\nexport default songsReducer;\n","const initState = {\n  isLibraryOpen: false,\n};\n\nconst apperanceReducer = (state = initState, action) => {\n  switch (action.type) {\n    case \"TOGGLE_LIBRARY\":\n      return { ...state, isLibraryOpen: !state.isLibraryOpen };\n    default:\n      return { ...state };\n  }\n};\n\nexport default apperanceReducer;\n","const initState = {\n  isPlaying: false,\n};\n\nconst playerReducer = (state = initState, action) => {\n  switch (action.type) {\n    case \"PLAY\":\n      return {\n        ...state,\n        isPlaying: true,\n      };\n    case \"PAUSE\":\n      return {\n        ...state,\n        isPlaying: false,\n      };\n    default:\n      return { ...state };\n  }\n};\n\nexport default playerReducer;\n","import { combineReducers } from \"redux\";\nimport songsReducer from \"./songs.reducer\";\nimport appearanceReducer from \"./appearance.reducer\";\nimport playerReducer from \"./player.reducer\";\n\nconst rootReducer = combineReducers({\n  songsState: songsReducer,\n  appearanceState: appearanceReducer,\n  playerState: playerReducer,\n});\n\nexport default rootReducer;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nimport \"./styles/style.scss\";\n\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\n\nimport { createStore, applyMiddleware, compose } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport thunk from \"redux-thunk\";\nimport rootReducer from \"./store/reducers\";\n\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst store = createStore(\n  rootReducer,\n  composeEnhancer(applyMiddleware(thunk))\n)\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\nserviceWorkerRegistration.register();\n"],"sourceRoot":""}